
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>RESTful Best Practices | Swust - Tian_dd</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="转自：RESTful Best Practices

接口路径设计
接口设计原则

URI指向的是唯一的资源对象
示例: 指向ID为yanbo.ai的Account对象">
<meta property="og:type" content="article">
<meta property="og:title" content="RESTful Best Practices">
<meta property="og:url" content="/2015/07/03/restful/index.html">
<meta property="og:site_name" content="Swust - Tian_dd">
<meta property="og:description" content="转自：RESTful Best Practices

接口路径设计
接口设计原则

URI指向的是唯一的资源对象
示例: 指向ID为yanbo.ai的Account对象">
<meta property="og:image" content="http://7xjwj2.com1.z0.glb.clouddn.com/code.png">
<meta property="og:updated_time" content="2015-07-03T09:12:56.216Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RESTful Best Practices">
<meta name="twitter:description" content="转自：RESTful Best Practices

接口路径设计
接口设计原则

URI指向的是唯一的资源对象
示例: 指向ID为yanbo.ai的Account对象">
  
    <link rel="alternative" href="/atom.xml" title="Swust - Tian_dd" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Swust - Tian_dd</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/Reading">Reading</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-restful" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/03/restful/" class="article-date">
  <time datetime="2015-07-03T12:44:12.000Z" itemprop="datePublished">2015-07-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Rest/">Rest</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      RESTful Best Practices
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><em>转自：<a href="http://segmentfault.com/a/1190000002949234" target="_blank" rel="external">RESTful Best Practices</a></em></li>
</ul>
<h2 id="接口路径设计">接口路径设计</h2><ul>
<li>接口设计原则</li>
</ul>
<p>URI指向的是唯一的资源对象</p>
<p>示例: 指向ID为yanbo.ai的Account对象<br><a id="more"></a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/accounts/yanbo.ai</span></span><br></pre></td></tr></table></figure></p>
<p>URI可以隐式指向唯一的集合列表</p>
<p>示例: 隐式地指向trades list 集合<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/trades/(list)</span></span><br><span class="line">等同于</span><br><span class="line">GET http:<span class="comment">//~/$version/trades</span></span><br></pre></td></tr></table></figure></p>
<p>聚合资源必须通过父级资源操作</p>
<p>示例: Profile是User的聚合资源，User有一个唯一且私有的Profile资源，只能通过User操作Profile。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">更新user_id为<span class="number">123456</span>的Profile资源</span><br><span class="line">PUT http:<span class="comment">//~/$version/users/123456/profiles</span></span><br><span class="line"></span><br><span class="line">Request Body:</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"full_name"</span>: <span class="string">"yanbo.ai"</span>,</span><br><span class="line">    <span class="string">"state"</span>: <span class="string">"Shanghai"</span>,</span><br><span class="line">    <span class="string">"title"</span>: <span class="string">"Senior software engineer"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>组合资源要避免资源路径嵌套</p>
<p>示例: 一个系统里面包含多个 applications，一个 application 又包含多个 users。那获取 user 资源的路径应该是怎样的？</p>
<p>看一个路径嵌套的例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/systems/:systemId/applications/:applicationId/users/:userId</span></span><br></pre></td></tr></table></figure>
<p>这样做是不合理的，它会让你的接口变得越来越混乱和缺少灵活性。正确的做法是：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/systems/:systemId</span></span><br><span class="line">GET http:<span class="comment">//~/$version/applications/:applicationId</span></span><br><span class="line">GET http:<span class="comment">//~/$version/users/:userId/</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>Http Methods</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HTTP Operation	Description</span><br><span class="line">GET	             获取，查找</span><br><span class="line">POST	           新增创建</span><br><span class="line">PUT	             更新</span><br><span class="line">PATCH	           部分更新</span><br><span class="line">DELETE	         删除</span><br></pre></td></tr></table></figure>
</li>
<li><p>URL组成</p>
</li>
</ul>
<p>1.网络协议(HTTP, HTTPS)<br><br>2.服务器地址<br><br>3.版本<br><br>4.接口名称<br><br>5.参数列表<br><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET https:<span class="comment">//github.com/v1/trades</span></span><br></pre></td></tr></table></figure></p>
<p>为什么需要版本?</p>
<p>当服务被更多其他系统使用的时候，服务的可用性和上下兼容变得至关重要。被外部系统依赖的服务在升级时是一个非常麻烦的事情，既要发布新的接口，又要保留旧的接口留出时间让调用者去升级。在URL中加入Version标示能很好地解决上下兼容(新老版本共存)问题。</p>
<p>示例1: URL中新增了Path parameter</p>
<p>v1版本<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/v1/trades?user_id=123456</span></span><br></pre></td></tr></table></figure></p>
<p>v2版本<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/v2/:user_id/trades</span></span><br></pre></td></tr></table></figure></p>
<p>示例1中的user_id参数在v2版本被加入到path parameter中，使用$version保证了v1和v2接口的共存。</p>
<p>示例2: 数据接口发生变化</p>
<p>v1版本<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/v1/accounts/yanbo.ai</span></span><br><span class="line">Response Body:</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"user_name"</span>: <span class="string">"yanbo.ai"</span>,</span><br><span class="line">    <span class="string">"e_mail"</span>: <span class="string">"yanbo.ai@gmail.com"</span>,</span><br><span class="line">    <span class="string">"state"</span>: <span class="string">"Shanghai"</span>,</span><br><span class="line">    <span class="string">"title"</span>: <span class="string">"Senior software engineer"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>v2版本<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/v2/accounts/yanbo.ai</span></span><br><span class="line">Response Body:</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"user_name"</span>: <span class="string">"yanbo.ai"</span>,</span><br><span class="line">    <span class="string">"e_mail"</span>: <span class="string">"yanbo.ai@gmail.com"</span>,</span><br><span class="line">    <span class="string">"profile"</span>: &#123;</span><br><span class="line">        <span class="string">"state"</span>: <span class="string">"Shanghai"</span>,</span><br><span class="line">        <span class="string">"title"</span>: <span class="string">"Senior software engineer"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>示例2中的接口返回数据结构已经发生了变化。使用$version保证了v1和v2接口的共存。</p>
<ul>
<li>URL定义限制</li>
</ul>
<p>1.不使用大写字母<br><br>2.使用中线-代替下划线_<br><br>3.参数列表应该被encode过<br></p>
<ul>
<li>接口分类</li>
</ul>
<p>资源对象的CURD操作<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/trades            获取trades列表</span></span><br><span class="line">GET http:<span class="comment">//~/$version/trades/:id        根据id获取单个trade</span></span><br><span class="line">POST http:<span class="comment">//~/$version/trades           创建trade</span></span><br><span class="line">PUT http:<span class="comment">//~/$version/trades/:id        根据id更新trade</span></span><br><span class="line">PATCH http:<span class="comment">//~/$version/trades/:id      根据id部分更新trade</span></span><br><span class="line">DELETE http:<span class="comment">//~/$version/trades/:id     根据id删除trade</span></span><br></pre></td></tr></table></figure></p>
<p>服务型接口</p>
<p>使用services标识，根据服务的属性选择http方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//~/services/$version/server-name</span></span><br></pre></td></tr></table></figure></p>
<p>系统设置</p>
<p>使用settings标识，根据服务的属性选择http方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//~/settings/$version/server-name</span></span><br></pre></td></tr></table></figure></p>
<p>示例1: 搜索<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/services/$version/search?q=filter?category=file</span></span><br></pre></td></tr></table></figure></p>
<p>示例2: 任务队列操作<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT http:<span class="comment">//~/services/$version/queued/jobs          往任务队列里面添加一个新的任务</span></span><br><span class="line">DELETE http:<span class="comment">//~/services/$version/queued/jobs/:id   根据id删除任务</span></span><br></pre></td></tr></table></figure></p>
<p>示例3: 更改界面语言环境<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUT http:<span class="comment">//~/settings/$version/gui/lang</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"lang"</span>: <span class="string">"zh-CN"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>为什么需要区分?</p>
<p>Microservices</p>
<p>1.Microservices是一个全新的概念，它主要的观点是将一个大型的服务系统分解成多个微型系统。每个微型系统都能独立工作，并且提供各种不同的服务。独立运行的特点使微型系统之间不会产生相互影响，其中的一个微型系统宕机并不会牵连到其他的微型系统。这种架构使分布式系统的节点数量大大提升。因为RESTful服务是无状态的，所以这种分解并不会带来状态共享的问题。</p>
<p>2.路由规则(逻辑)</p>
<p>当我们需要对不同属性的接口做路由规则的时候，按功能划分接口是一个很好的方案。例如：我们要对系统设置接口设置增加更严格的调用限制。</p>
<ul>
<li>缓存</li>
</ul>
<p>网络接口相对于堆栈接口来说数据传输极其不稳定，尽可能地减少数据传输不仅能控制这种风险还能减少流量。使用缓存还能有效地提高后台的吞吐量。<br>后台在响应请求时使用响应头E-Tag或Last-Modified来标记数据的版本，前台在发送请求时将数据版本通过请求头If-Match帮助后台判断缓存的使用。</p>
<p>Request Header<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">If-Match: <span class="number">2390239059405940</span></span><br></pre></td></tr></table></figure></p>
<p>Response Header<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E-Tag: <span class="number">2390239059405940</span></span><br><span class="line">Last-Modified: <span class="number">2014</span>-<span class="number">04</span>-<span class="number">05</span>T14:<span class="number">30</span>Z</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Bookmarker</li>
</ul>
<p>在实际的环境中，有大量的查询需求是相同的。将这些搜索需求标签化能降低使用难度也可以达到重用的目的。</p>
<p>示例1: 查找状态为关闭的订单</p>
<p>普通方式<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/trades?status=closed&amp;sorting=-created_at</span></span><br></pre></td></tr></table></figure></p>
<p>Bookmarker<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/trades#recently_closed</span></span><br></pre></td></tr></table></figure></p>
<p>或<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/trades/recently_closed</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>HATEOAS</li>
</ul>
<p>HATEOAS通过Web Linking的方式来描述程序的状态信息<br>Link 主要包含以下属性:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Property	Description</span><br><span class="line">rel	      关联内容</span><br><span class="line">href	    URL</span><br><span class="line">type	    媒体类型</span><br><span class="line">method	  Http Method</span><br><span class="line">title	    标题</span><br><span class="line">arguments	参数列表</span><br><span class="line">value	    返回值</span><br></pre></td></tr></table></figure></p>
<p>Rel 可能为以下值:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Value	Description</span><br><span class="line">next	下一步</span><br><span class="line">prev	上一步</span><br><span class="line">first	第一步，最前</span><br><span class="line">last	最后一步，最后</span><br><span class="line">source	来源</span><br><span class="line">self	资源自身，相对于<span class="keyword">this</span></span><br></pre></td></tr></table></figure></p>
<p>Web Linking 可以通过两种方式传递至客户端:</p>
<p>Http Header<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Link: &lt;http:<span class="comment">//~/$version/trades?page_no=10&gt;; rel="next", &lt;http://~/$version/trades?page_no=19&gt;; rel="last"</span></span><br></pre></td></tr></table></figure></p>
<p>Http JSON Body<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"links"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"rel"</span>: <span class="string">"next"</span>,</span><br><span class="line">            <span class="string">"href"</span>: <span class="string">"http://~/$version/trades?page_no=1"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"rel"</span>: <span class="string">"last"</span>,</span><br><span class="line">            <span class="string">"href"</span>: <span class="string">"http://~/$version/trades?page_no=19"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>示例1: 用户注册业务</p>
<p>用户填写E-Mail与密码<br><br>完善用户资料<br></p>
<p>Register Request<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">POST http:<span class="comment">//~/$version/accounts</span></span><br><span class="line">Headers:</span><br><span class="line">    Accept: application/json</span><br><span class="line">    Content-Type: application/json;charset=utf-<span class="number">8</span></span><br><span class="line">Body:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"username"</span>: <span class="string">"yanbo.ai@gmail.com"</span>,</span><br><span class="line">        <span class="string">"e_mail"</span>: <span class="string">"yanbo.ai@gmail.com"</span>,</span><br><span class="line">        <span class="string">"password"</span>: <span class="string">"balabala"</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>Register Response<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Headers:</span><br><span class="line">    Content-Type: application/json;charset=utf-<span class="number">8</span></span><br><span class="line">Status: <span class="number">201</span> Created</span><br><span class="line">Body:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"uri"</span>: <span class="string">"http://~/$version/accounts/yanbo.ai"</span>,</span><br><span class="line">        <span class="string">"identity"</span>: <span class="string">"yanbo.ai"</span>,</span><br><span class="line">        <span class="string">"created_at"</span>: <span class="string">"2014-04-05T14:30Z"</span>,</span><br><span class="line">        <span class="string">"links"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">"rel"</span>: <span class="string">"next"</span>,</span><br><span class="line">                <span class="string">"href"</span>: <span class="string">"http://~/$version/accounts/yanbo.ai/profiles"</span>,</span><br><span class="line">                <span class="string">"method"</span>: <span class="string">"POST"</span>,</span><br><span class="line">                <span class="string">"title"</span>: <span class="string">"Editing Profiles"</span>,</span><br><span class="line">                <span class="string">"arguments"</span>: <span class="string">"status=editing"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>Profile Request<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">POST http:<span class="comment">//~/$version/accounts/yanbo.ai/profiles</span></span><br><span class="line">Headers:</span><br><span class="line">    Accept: application/json</span><br><span class="line">    Content-Type: application/json;charset=utf-<span class="number">8</span></span><br><span class="line">Body:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"full_name"</span>: <span class="string">"yanbo.ai"</span>,</span><br><span class="line">        <span class="string">"state"</span>: <span class="string">"Shanghai"</span>,</span><br><span class="line">        <span class="string">"title"</span>: <span class="string">"Senior software engineer"</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>Profile Response<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Headers:</span><br><span class="line">    Content-Type: application/json;charset=utf-<span class="number">8</span></span><br><span class="line">Status: <span class="number">201</span> Created</span><br><span class="line">Body:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"uri"</span>: <span class="string">"http://~/$version/accounts/yanbo.ai/profiles"</span>,</span><br><span class="line">        <span class="string">"identity"</span>: <span class="string">"yanbo.ai"</span>,</span><br><span class="line">        <span class="string">"created_at"</span>: <span class="string">"2014-04-05T14:30Z"</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>HATEOAS在解决什么问题?</li>
</ul>
<p>HATEOAS是Hypermedia as the Engine of Application State的缩写形式，中文意思为：超媒体应用状态引擎。它的核心思想是使用超媒体表达应用状态，与hypertext-driven思想是一致的。在此之前，我们大多数的程序业务控制在前台完成。例如：我们会在前台做注册流程，我们在前台判定下一步应该做什么，可以做什么。当使用HATEOAS时，这些状态流程控制都在应用程序的后台完成。我们使用超媒体来表达前台做完某一步骤之后可以做哪些? 这样一来，前台的任务就变得相当简单了，前台需要处理的是理解状态表述，数据收集和结果显示。</p>
<p>思考</p>
<p>HATEOAS会带来怎样的改变? 使用它的意义在哪?</p>
<ul>
<li>分页</li>
</ul>
<p>Request<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http:<span class="comment">//~/$version/trades?page=10&amp;pre_page=100</span></span><br></pre></td></tr></table></figure></p>
<p>Response</p>
<p>Link Header<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Link: &lt;http:<span class="comment">//~/$version/trades?page=11&amp;pre_page=100&gt;; rel="next", &lt;http://~/$version/trades?page=19&amp;pre_page=100&gt;; rel="last"</span></span><br></pre></td></tr></table></figure></p>
<p>JSON Body<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"links"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"rel"</span>: <span class="string">"next"</span>,</span><br><span class="line">            <span class="string">"href"</span>: <span class="string">"http://~/$version/trades?page=11&amp;pre_page=100"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"rel"</span>: <span class="string">"last"</span>,</span><br><span class="line">            <span class="string">"href"</span>: <span class="string">"http://~/$version/trades?page=19&amp;pre_page=100"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="安全">安全</h2><ul>
<li>调用限制</li>
</ul>
<p>为保证服务的可用性应对服务进行调用过载保护</p>
<p>Response Headers<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X-RateLimit-Limit: <span class="number">3000</span>             调用量的最大限制</span><br><span class="line">X-RateLimit-Reset: <span class="number">1403162176516</span>    调用限制重置时间</span><br><span class="line">X-RateLimit-Remaining: <span class="number">299</span>          剩余的调用量</span><br></pre></td></tr></table></figure></p>
<ul>
<li>安全验证</li>
</ul>
<p>RESTful服务使用Oauth2的方式进行调用授权，使用http请求头Authorization设置授权码; 必须使用User-Agent设置客户端信息, 无User-Agent请求头的请求应该被拒绝访问。</p>
<p>Request Header<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User-Agent: Data-Server-Client</span><br><span class="line">Authorzation: Bearer <span class="number">383</span>w9JKJLJFw4ewpie2wefmjdlJLDJF</span><br></pre></td></tr></table></figure></p>
<p>为什么建议使用Oauth2授权?</p>
<p>Oauth2的参与者为：客户端，资源所有者，授权服务器，资源服务器。客户端先从资源所有者得到授权码之后使用授权码从授权服务器得到token，再使用token调用资源服务器获取经过资源所有者授权使用的资源。这种授权方式的特点有：</p>
<ol>
<li>资源所有者可以随时撤销授权许可</li>
<li>可以通过撤销token拒绝客户端的调用</li>
<li>资源服务器可以拒绝客户端的调用</li>
</ol>
<p>通过这三种方式可以做到对资源的严格保护。资源的访问权限也把握在资源所有者的手中，而不是资源服务器。<br>当然，Oauth2授权框架也允许受信任的客户端直接使用token调用资源服务器获取资源。这种灵活性完全取决于客户端类型和对资源的保护程度。</p>
<p>为什么授权码要放在Http Header中?</p>
<p>WEB服务器对访问做记录已经成为了行业的一个标准，访问记录不仅可以用来做访问量统计还能用来做访问特征分析。互联网广告平台就是利用访问记录来做精准营销的。如果token(授权码)包含在URL中就有很大的安全风险。<br>包含在URL中的token串可能被进行重定向传递。通过这两种方式入侵者可以不通过授权而使用泄漏的授权码访问那些受保护的数据，会造成数据泄漏的风险。<br>以Tomcat为例，访问日志为:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span>.0.1 - - [<span class="number">24</span>/Jun/<span class="number">2014</span>:<span class="number">14</span>:<span class="number">38</span>:<span class="number">04</span> +<span class="number">0800</span>] <span class="string">"GET /v1/accounts/yanbo.ai?token=dgdreLJLJLER798989erJKJK HTTPS/1.1"</span> <span class="number">200</span> <span class="number">343</span></span><br></pre></td></tr></table></figure></p>
<p>通过对访问日志的提取，很容易得到token信息。</p>
<h2 id="数据设计">数据设计</h2><ul>
<li>交互原则</li>
</ul>
<p>1.查询，过滤条件使用query string。<br><br>2.用来描述数据或者请求的元数据放Header中，例如 X-Result-Fields。<br><br>3.Content body 仅仅用来传输数据。<br><br>4.数据要做到拿来就可用的原则，不需要“拆箱”的过程。<br><br>5.使用ISO-8601格式表达时间字段，例如: 2014-04-05T14:30Z。<br></p>
<ul>
<li>结构</li>
</ul>
<p>使用JSON格式传输数据，在http请求头和响应头申明Content-Type。返回的数据结构应该做到尽可能简单，不要过于包装。响应状态应该包含在响应头中！</p>
<p>Request<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Accept: application/json</span><br><span class="line">Content-Type: application/json;charset=UTF-<span class="number">8</span></span><br></pre></td></tr></table></figure></p>
<p>Response<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: application/json;charset=UTF-<span class="number">8</span></span><br></pre></td></tr></table></figure></p>
<p>错误的做法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"status"</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="string">"data"</span>: &#123;</span><br><span class="line">        <span class="string">"trade_id"</span>: <span class="number">1234</span>,</span><br><span class="line">        <span class="string">"trade_name"</span>: <span class="string">"Bala bala"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>正确的做法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Response Headers:</span><br><span class="line">    Status: <span class="number">200</span></span><br><span class="line">Response Body:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"trade_id"</span>: <span class="number">1234</span>,</span><br><span class="line">        <span class="string">"trade_name"</span>: <span class="string">"Bala bala"</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>示例1: 创建User对象<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">POST http:<span class="comment">//~/$version/users</span></span><br><span class="line"></span><br><span class="line">Request</span><br><span class="line">    headers:</span><br><span class="line">        Accept: application/json</span><br><span class="line">        Content-Type: application/json;charset=UTF-<span class="number">8</span></span><br><span class="line">    body:</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"user_name"</span>: <span class="string">"Andy Ai"</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">Response</span><br><span class="line">    status: <span class="number">201</span> Created</span><br><span class="line">    headers:</span><br><span class="line">        Content-Type: application/json;charset=UTF-<span class="number">8</span></span><br><span class="line">    body:</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"uri"</span>: <span class="string">"http://~/$version/users/1234"</span>,</span><br><span class="line">            <span class="string">"identity"</span>: <span class="number">1234</span>,</span><br><span class="line">            <span class="string">"created_at"</span>: <span class="string">"2014-04-05T14:30Z"</span>,</span><br><span class="line">            <span class="string">"links"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">"rel"</span>: <span class="string">"next"</span>,</span><br><span class="line">                    <span class="string">"href"</span>: <span class="string">"http://~/gui/users/1234"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<p>为什么是JSON?</p>
<p>JSON 是一种可以跨平台高扩展的轻量级的数据交换格式。易于人阅读和编写，同时也易于机器解析和生成。</p>
<ul>
<li>属性定义限制</li>
</ul>
<p>1.不能使用大写(大小写友好)<br><br>2.使用下划线_命名(连接两个单词)<br><br>3.属性和字符串值必须使用双引号””<br></p>
<ul>
<li>提取部分字段</li>
</ul>
<p>无状态服务器应该允许客户端对数据按需提取。在请求头使用X-Result-Fields指定数据返回的字段集合。<br>例如：trade 有trade_id, trade_name, created_at 三个属性，客户端只需其中的trade_id与trade_name属性。</p>
<p>Request Header<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Result-Fields: trade_id,trade_name</span><br></pre></td></tr></table></figure></p>
<p>*　子对象描述</p>
<p>数据里面的子对象使用URI描述不应该被提取，除非用户指定需要提取子对象</p>
<p>示例: trade里面的order对象<br>错误的做法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"trade_id"</span>: <span class="string">"123456789"</span>,</span><br><span class="line">    <span class="string">"full_path"</span>: <span class="keyword">null</span>,</span><br><span class="line">    <span class="string">"order"</span>: &#123;</span><br><span class="line">        <span class="string">"order_id"</span>: <span class="string">"987654321"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>正确的做法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"trade_id"</span>: <span class="string">"123456789"</span>,</span><br><span class="line">    <span class="string">"order"</span>: <span class="string">"http://~/$version/orders/987654321"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>应用指定提取子对象，需要在请求头声明X-Expansion-Fields</p>
<p>Request<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Expansion-Fields: <span class="keyword">true</span></span><br></pre></td></tr></table></figure></p>
<p>为什么要客户端指定提取子对象时才提取?</p>
<p>懒模式服务能够最大程度地节省运算资源。虽然与客户端交互的次数有所增加，但是能做到按需提取，按需响应，这也是响应式设计的一大特点。客户端的用户行为模式无法真实地模拟，也就无法确定哪些资源需要做到一次性推送，让客户端按需使用是一个不错的方式。</p>
<p>关于空字段</p>
<p>应该在返回结果里面剔除空字段，因为null值传输到客户端并没有实际的含义，反而增加了占用空间。</p>
<p>Tips</p>
<p>使用HTTP Header时，优先使用合适的标准头属性。用X-作为前缀自定义一个头属性，例如: X-Result-Fields。</p>
<h2 id="状态码&amp;错误处理">　状态码&amp;错误处理</h2><ul>
<li>状态码&amp;错误处理<br><img src="http://7xjwj2.com1.z0.glb.clouddn.com/code.png" alt="code_error"></li>
<li>容器状态码</li>
</ul>
<p>容器状态码是指http容器的状态码，应用不应该使用或限制使用<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Code	             HTTP Operation	               Body Contents 	            Description</span><br><span class="line"><span class="number">303</span>	                     GET	                      link	               静态资源被移除,应用限制使用</span><br><span class="line"><span class="number">503</span>	          GET,PSOT,PUT,DELETE,PATCH	         text body	               服务器宕机</span><br></pre></td></tr></table></figure></p>
<p>Tips</p>
<p>4开头的错误用来表达来自于客户端的错误，例如: 未授权，参数缺失。5开头的错误用来表达服务端的错误，例如: 在连接外部系统(DB)发生的IO错误。</p>
<p>错误信息格式</p>
<p>错误信息应该包含下列内容:<br></p>
<ol>
<li>错误标题 message, 必须<br></li>
<li>错误代码 error code, 必须<br></li>
<li>错误信息 error message, 必须<br></li>
<li>资源 resource, 可选<br></li>
<li>属性 field, 可选<br></li>
<li>文档地址 document, 可选<br></li>
</ol>
<p>Tips</p>
<p>Error Code 尽可能做到简洁明了，提取异常的关键字并且使用下划线_把它们连接起来。</p>
<p>示例: 调用频率超过限制，Response:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Headers:</span><br><span class="line">    Content-Type: application/json;charset=UTF-<span class="number">8</span></span><br><span class="line">    X-RateLimit-Limit: <span class="number">3000</span></span><br><span class="line">    X-RateLimit-Reset: <span class="number">1403162176516</span></span><br><span class="line">    X-RateLimit-Remaining: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"message"</span>: <span class="string">"Message title"</span>,</span><br><span class="line">    <span class="string">"errors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"code"</span>: <span class="string">"rate_limit_exceeded"</span>,</span><br><span class="line">            <span class="string">"message"</span>: <span class="string">"Too Many Requests. API rate limit exceeded"</span>,</span><br><span class="line">            <span class="string">"document"</span>: <span class="string">"https://developer.github.com/v3/gists/"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="锦上添花">锦上添花</h2><p>1.格式化(Pettyprint)JSON数据(返回结果)并且使用gzip压缩，Pettyprint易于阅读，多余的空格在经过gzip压缩之后占用空间比压缩之前更小。<br>2.重写Server头<br>3.返回X-Powered-By</p>
<p>Response Headers<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X-Pretty-Print: <span class="keyword">true</span></span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Server: ods<span class="annotation">@shuyun</span>.com</span><br><span class="line">X-Powered-By: yanbo.ai;email=yanbo.ai<span class="annotation">@gmail</span>.com</span><br></pre></td></tr></table></figure></p>
<h2 id="附页">附页</h2><ul>
<li>框架&amp;工具</li>
</ul>
<p><a href="http://raml.org/" target="_blank" rel="external">http://raml.org/</a><br><a href="https://jersey.java.net/" target="_blank" rel="external">https://jersey.java.net/</a><br><a href="https://github.com/aiyanbo/aims" target="_blank" rel="external">https://github.com/aiyanbo/aims</a><br><a href="https://dropwizard.github.io/dropwizard/" target="_blank" rel="external">https://dropwizard.github.io/dropwizard/</a><br><a href="https://github.com/aiyanbo/restful-hub/" target="_blank" rel="external">https://github.com/aiyanbo/restful-hub/</a></p>
<ul>
<li>参考资料</li>
</ul>
<p><a href="http://restfulobjects.org/" target="_blank" rel="external">http://restfulobjects.org/</a><br><a href="https://developer.github.com/v3/" target="_blank" rel="external">https://developer.github.com/v3/</a><br><a href="http://tools.ietf.org/html/rfc5988" target="_blank" rel="external">http://tools.ietf.org/html/rfc5988</a><br><a href="http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api" target="_blank" rel="external">http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api</a><br><a href="https://developer.yahoo.com/social/rest_api_guide/http-response-codes...." target="_blank" rel="external">https://developer.yahoo.com/social/rest_api_guide/http-response-codes….</a><br><a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" target="_blank" rel="external">http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm</a><br><a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven" target="_blank" rel="external">http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="/2015/07/03/restful/" data-id="cibndpq940000b0o367j3jyxi" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="/2015/07/03/restful/#ds-thread" class="article-comment-link">評論</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rest/">Rest</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/06/27/快速有效地学习/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">如何快速高效的进入新的知识领域</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2015/07/03/restful/" data-title="RESTful Best Practices" data-url="/2015/07/03/restful/"></div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分類</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Design-Pattern/">Design Pattern</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Entertainment/">Entertainment</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Oracle/">Oracle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rest/">Rest</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Study/">Study</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/XML/">XML</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標簽</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/">Design Pattern</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entertainment/">Entertainment</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hibernate/">Hibernate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Https/">Https</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/">Json</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/">Maven</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Memory/">Memory</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongdb/">Mongdb</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rest/">Rest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Robomongo/">Robomongo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/">SpringMVC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Study/">Study</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/">Tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標簽雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/Design-Pattern/" style="font-size: 17.5px;">Design Pattern</a> <a href="/tags/Entertainment/" style="font-size: 10px;">Entertainment</a> <a href="/tags/Git/" style="font-size: 12.5px;">Git</a> <a href="/tags/Hadoop/" style="font-size: 15px;">Hadoop</a> <a href="/tags/Hibernate/" style="font-size: 10px;">Hibernate</a> <a href="/tags/Https/" style="font-size: 10px;">Https</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Json/" style="font-size: 10px;">Json</a> <a href="/tags/Linux/" style="font-size: 17.5px;">Linux</a> <a href="/tags/Maven/" style="font-size: 12.5px;">Maven</a> <a href="/tags/Memory/" style="font-size: 10px;">Memory</a> <a href="/tags/Mongdb/" style="font-size: 12.5px;">Mongdb</a> <a href="/tags/Mysql/" style="font-size: 12.5px;">Mysql</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Rest/" style="font-size: 10px;">Rest</a> <a href="/tags/Robomongo/" style="font-size: 10px;">Robomongo</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 12.5px;">SpringMVC</a> <a href="/tags/Study/" style="font-size: 10px;">Study</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/go/" style="font-size: 12.5px;">go</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">歸檔</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">9</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/07/03/restful/">RESTful Best Practices</a>
          </li>
        
          <li>
            <a href="/2015/06/27/快速有效地学习/">如何快速高效的进入新的知识领域</a>
          </li>
        
          <li>
            <a href="/2015/06/26/Git简明中文手册/">Git简明中文手册</a>
          </li>
        
          <li>
            <a href="/2015/06/20/Linux命令/">Linux 用户3个命令小技巧</a>
          </li>
        
          <li>
            <a href="/2015/06/17/Django1.8+Python3.4+Mysql5.5/">Django1.8+Python3.4+Mysql5.5</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情鏈接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://weibo.com/3201776564/profile?topnav=1&wvr=6" target="_blank">新浪微博</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Tian_dd<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
	
	<div>
	
	&nbsp;&nbsp;<font color="red" size="2px">Total Views:</font><span id="busuanzi_value_site_pv"></span><font color="red">.</font>
    &nbsp;&nbsp;&nbsp;&nbsp;<font color="red" size="2px">您是第</font><span id="busuanzi_value_site_uv"></span><font color="red" size="2px">个访客.</font>

	</div>
  </div>
  
</footer>


  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/Reading" class="mobile-nav-link">Reading</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回頂部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"tian-dd"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>
